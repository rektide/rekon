{"id":"rekon-0nw","title":"Implement file validation and glob pattern matching","description":"Search prompt/ directory for matching files using glob patterns, filter out files that don't exist or can't be read, handle both explicit filenames and glob patterns in arguments","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T17:58:28.75017254-05:00","created_by":"rektide","updated_at":"2026-01-05T17:58:28.75017254-05:00","dependencies":[{"issue_id":"rekon-0nw","depends_on_id":"rekon-yv0","type":"blocks","created_at":"2026-01-05T17:58:28.763414933-05:00","created_by":"rektide"}]}
{"id":"rekon-13x","title":"Create rekon.ts as gunshi main program with combine subcommand","description":"Create rekon.ts in top-level directory as gunshi main program, move combine logic to command/combine.ts as a subcommand, update rekon.ts to register combine command","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T01:40:38.889514293-05:00","created_by":"rektide","updated_at":"2026-01-07T03:55:12.57263677-05:00","closed_at":"2026-01-07T03:55:12.57263677-05:00","close_reason":"Closed"}
{"id":"rekon-4kh","title":"Create install-commands subcommand","description":"Implement `install-commands` gunshi subcommand that:\n- Scans all markdown/mdx files in prompt/ recursively\n- Creates symlinks in ~/.config/opencode/command/\n- Checks symlink status with readlink before creating\n- Reports per-file status: \"already-done\", \"done\", \"error-existing-file\"\n- Supports -f flag to force overwrite existing files\n- Creates directory if needed\n- Uses async/promises (node:fs/promises) not sync operations","acceptance_criteria":"- install-commands subcommand exists in command/\n- Finds all .md and .mdx files in prompt/ recursively\n- Creates symlinks to ~/.config/opencode/command/\n- Reports status per file: \"already-done\", \"done\", \"error-existing-file\"\n- -f flag forces overwrite of existing files\n- Uses async/promises from node:fs/promises\n- Passes typecheck and lint\n- Files are executable with shebang","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T04:32:10.533853508-05:00","updated_at":"2026-01-13T04:34:03.204116021-05:00","closed_at":"2026-01-13T04:34:03.204116021-05:00","close_reason":"Completed"}
{"id":"rekon-6n3","title":"Check for front-matter description in command files","description":"When installing commands, check front-matter and warn if description field is missing. Commands should have descriptions according to opencode documentation.","acceptance_criteria":"- Parse front-matter from markdown files\n- Check for description field in front-matter\n- Use console.warn if description is missing\n- Add -q/--quiet flag to suppress warnings\n- Only check front-matter when not in dry-run mode (or maybe always check?)","notes":"Implementation:\n- Added gray-matter package for front-matter parsing\n- Check for description field in front-matter\n- Use console.warn if description is missing\n- Added -q/--quiet flag to suppress warnings\n- Only check front-matter when scanning files (works in both normal and dry-run mode)","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-13T05:11:12.463868572-05:00","updated_at":"2026-01-13T05:12:50.523135785-05:00","closed_at":"2026-01-13T05:12:50.523135785-05:00","close_reason":"Implemented front-matter description checking with warnings. Added -q flag to suppress warnings."}
{"id":"rekon-ag7","title":"Add dry run mode to install-commands","description":"Add -n/--dry-run flag to install-commands that:\n- Doesn't actually create or modify any files\n- Shows what would happen (same status reporting)\n- Useful for previewing changes before running","acceptance_criteria":"- -n flag supported, short and long form\n- Does not create or modify any symlinks\n- Reports same statuses: \"already-done\", \"done\", \"error-existing-file\"\n- Works with -f flag combination (shows what would be force-overwritten)","notes":"Implementation:\n- Added -n/--dry-run flag to install-commands\n- When dry run is enabled, reports what would happen without making changes\n- Works with -f flag combination to show what would be force-overwritten\n- Uses xdgConfig from xdg-basedir package for XDG-compliant config directory\n- All acceptance criteria met","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-13T04:33:37.306982237-05:00","updated_at":"2026-01-13T04:53:34.215349959-05:00","closed_at":"2026-01-13T04:53:34.215349959-05:00","close_reason":"Implemented -n/--dry-run flag that shows what would happen without creating/modifying files. Works with -f flag to show force overwrites.","dependencies":[{"issue_id":"rekon-ag7","depends_on_id":"rekon-4kh","type":"blocks","created_at":"2026-01-13T04:33:48.194674587-05:00","created_by":"daemon"}]}
{"id":"rekon-oc-variance-defaults-feature","title":"Add `defaults` command to output full default opencode.json","description":"Implement a `defaults` command that outputs a complete default OpenCode configuration file to stdout. This helps users bootstrap a new configuration.\n\n## Requirements\n\n- Output valid opencode.json schema with `$schema` field\n- Include example providers (anthropic, openai)\n- Include example models with variants\n- Include helpful comments explaining configuration options\n- Support `--output-file` flag to write to file instead of stdout\n- Validate the default config before outputting\n\n## Example Output\n\n```json\n{\n  \"$schema\": \"https://opencode.ai/config.json\",\n  \"model\": \"anthropic/claude-sonnet-4-5\",\n  \"provider\": {\n    \"anthropic\": {\n      \"name\": \"Anthropic\",\n      \"models\": {\n        \"claude-sonnet-4-5\": {\n          \"name\": \"Claude Sonnet 4.5\",\n          \"variants\": {\n            \"high-thinking\": {\n              \"options\": {\n                \"thinking\": {\n                  \"type\": \"enabled\",\n                  \"budgetTokens\": 16000\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n```\n\n## Tasks\n- [ ] Create `defaults` subcommand in cli.rs\n- [ ] Implement generate_default_config() function\n- [ ] Add --output-file flag for file output\n- [ ] Add JSON pretty-printing\n- [ ] Validate default config structure\n- [ ] Add comments explaining configuration options\n- [ ] Test output is valid JSON\n- [ ] Test output with opencode config validation","status":"tombstone","priority":3,"issue_type":"feature","created_at":"2026-01-12T20:40:14.347497106-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","dependencies":[{"issue_id":"rekon-oc-variance-defaults-feature","depends_on_id":"rekon-oc-variance-epic","type":"blocks","created_at":"2026-01-12T20:40:27.67252502-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"feature"}
{"id":"rekon-oc-variance-epic","title":"oc-variance: Interactive TUI for OpenCode Model Configuration","description":"Build a tree-based interactive TUI tool for managing OpenCode model providers, models, and variants. The tool uses ratatui for a borderless tree view that is fully expanded by default, with `[` and `]` keys for expand/collapse. Configuration panel appears below the tree when items are selected.\n\nThe tool integrates with models.dev API to discover available providers and models, with 24-hour caching to avoid repeated API calls. All configuration is managed in opencode.json with proper validation.\n\nProgram name: oc-variance\nLocation: variance/ subdirectory\n\n## Phases\n\n**Phase 1:** Project Setup \u0026 Structure\n- Initialize Rust project in variance/ subdirectory\n- Set up modular project structure following CLI best practices\n- Configure dependencies in Cargo.toml\n\n**Phase 2:** models.dev Integration with Caching\n- Implement blocking HTTP client using ureq\n- Add caching layer with freshness checking (24h max age)\n- Store cache in XDG cache directory\n- Parse models.dev API response\n\n**Phase 3:** Configuration Management\n- Load and parse opencode.json with serde\n- Implement multi-source config discovery (CLI arg, config dir, current dir)\n- Add validation for OpenCode schema and model parameters\n- Support validate command for standalone validation\n\n**Phase 4:** Core Data Structures\n- Define Rust types for opencode configuration with serde\n- Implement parsing and serialization of opencode.json\n- Create in-memory tree representation\n- Add configuration validation with context\n\n**Phase 5:** Basic UI Framework\n- Set up ratatui application with crossterm terminal handling\n- Implement tree view rendering (fully expanded by default, no borders)\n- Add navigation (vim-style, `[`/`]` for expand/collapse)\n- Handle keyboard input for selection\n\n**Phase 6:** Configuration Panel\n- Create split-pane layout (tree + config panel)\n- Implement form fields for parameter editing\n- Add real-time validation with helpful error messages\n- Display model info from cached models.dev data\n\n**Phase 7:** CRUD Operations\n- Implement create (new provider/model/variant)\n- Implement update (edit and save)\n- Implement delete (remove items with confirmation)\n- Add user prompts using dialoguer for destructive operations\n\n**Phase 8:** Testing \u0026 Quality\n- Integration tests with assert_cmd\n- Snapshot testing for UI output\n- Mock external dependencies (models.dev API)\n- Configuration validation tests\n\n**Phase 9:** Advanced Features\n- Search/filter functionality in tree view\n- Import/export configurations\n- Configuration templates\n- Shell integration and completions","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-12T20:28:28.285439665-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"rekon-oc-variance-p1-setup","title":"Phase 1: Project Setup \u0026 Structure","description":"Initialize Rust project in variance/ subdirectory with modular structure following CLI best practices.\n\nTasks:\n- [x] Create Cargo.toml with appropriate dependencies\n- [x] Set up src/ directory structure (main.rs, cli.rs, config.rs, models.rs, cache.rs, ui.rs)\n- [x] Configure build profile for size optimization\n- [x] Implement minimal main.rs entry point\n- [ ] Add shell completion generation to build.rs\n- [ ] Create tests/ directory structure","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:29:11.106925799-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","close_reason":"Converted to epic rekon-oc-variance-p1-setup-epic with child tickets for remaining work","dependencies":[{"issue_id":"rekon-oc-variance-p1-setup","depends_on_id":"rekon-oc-variance-epic","type":"parent-child","created_at":"2026-01-12T20:29:23.741093461-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p1-setup-epic","title":"Phase 1: Project Setup \u0026 Structure","description":"**Phase 1: Project Setup \u0026 Structure**\n\nInitialize the Rust project in the variance/ subdirectory with a modular structure following CLI best practices from the rust-cli guide. This includes setting up Cargo.toml with appropriate dependencies, organizing the source code into logical modules (main.rs, cli.rs, config.rs, models.rs, cache.rs, ui.rs), configuring build profiles for size optimization, and preparing the foundation for development.\n\nThe project structure follows established patterns for CLI tools, ensuring maintainability and testability from the outset.","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-12T20:41:31.130382368-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"rekon-oc-variance-p1-shell-completions","title":"Add shell completion generation to build.rs","description":"Add shell completion generation for bash, zsh, fish, and PowerShell using clap_complete crate.\n\nTasks:\n- Add build.rs to Cargo.toml\n- Implement completion generation in build.rs\n- Configure completions/ output directory\n- Test completions can be installed","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:40:57.569028474-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","close_reason":"Implemented shell completions command using clap_complete at runtime\n\n- Added `completions` subcommand with shell selection\n- Supports bash, zsh, fish, elvish, powershell, and nushell\n- Fixed short option conflict: config uses -C, cache-dir uses -c\n- Completions generated at runtime: `oc-variance completions \u003cshell\u003e`\n- No build.rs needed - simpler runtime generation approach","dependencies":[{"issue_id":"rekon-oc-variance-p1-shell-completions","depends_on_id":"rekon-oc-variance-p1-setup-epic","type":"parent-child","created_at":"2026-01-12T20:41:37.052244203-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p1-tests-directory","title":"Create tests/ directory structure","description":"Create tests/ directory structure for integration tests and test fixtures.\n\nTasks:\n- Create tests/ directory in variance/\n- Create tests/integration/ subdirectory\n- Create tests/fixtures/ subdirectory\n- Add .gitkeep files if needed","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:41:15.388128207-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","close_reason":"Completed","dependencies":[{"issue_id":"rekon-oc-variance-p1-tests-directory","depends_on_id":"rekon-oc-variance-p1-setup-epic","type":"parent-child","created_at":"2026-01-12T20:41:40.577183018-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p2-api-structure","title":"Investigate models.dev API JSON structure","description":"Investigate the actual JSON structure returned by models.dev API at https://models.dev/api.json. Update cache.rs parsing logic to handle the real API response format correctly.\n\nTasks:\n- Fetch actual API response\n- Document JSON structure\n- Update parse_models_response() function\n- Test with real data","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:42:41.964337348-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","close_reason":"Investigated models.dev API structure and discovered critical architectural insight: variants are NOT stored in models.dev, they are programmatically generated by OpenCode\n\nKey findings:\n- models.dev is correct source for model discovery but NOT for variants\n- Variants are generated based on provider.npm package type and model capabilities\n- Need to capture provider.npm and release_date (critical for OpenAI variant logic)\n- Current field naming mismatch: use capabilities.reasoning instead of supports_thinking\n- Need to match OpenCode's exact structure: nested modality objects, not arrays\n- Cost structure missing cache costs and 200K+ context pricing\n\nCreated comprehensive analysis document at variance/OPENVARIANTS-ANALYSIS.md with:\n- Complete Model schema matching OpenCode\n- Provider-specific variant generation logic (10 providers)\n- Updated Rust structs for all required fields\n- Variant generation functions to implement in Rust\n- Detailed implementation guidance\n\nImplementation notes added to document for phase 4 (Core Data Structures) which will need variant generation logic","dependencies":[{"issue_id":"rekon-oc-variance-p2-api-structure","depends_on_id":"rekon-oc-variance-p2-models-dev-epic","type":"parent-child","created_at":"2026-01-12T20:43:37.275899427-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p2-error-handling","title":"Add error handling for network failures","description":"Add proper error handling for HTTP requests to models.dev API using ureq.\n\nTasks:\n- Handle connection errors\n- Handle timeout errors\n- Handle invalid JSON responses\n- Display user-friendly error messages\n- Test error handling paths","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:42:56.053448565-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","close_reason":"Implemented comprehensive error handling for network failures\n\n- Added 30-second timeout to HTTP requests using ureq::AgentBuilder\n- Set user agent header for API requests\n- Added specific error messages for different failure scenarios:\n  * Connection failures - check internet connection\n  * DNS failures - DNS resolution issue\n  * Timeout errors - request exceeded 30 seconds\n  * Network I/O errors - generic network issues\n- Validate HTTP status codes, only accept 2xx responses\n- Check for empty API responses and handle appropriately\n- Improved load_cached() error handling:\n  * Check cache file permissions\n  * Detect empty/corrupted cache files with guidance to delete\n  * Provide error context showing first 200 chars of corrupted data\n- Enhanced parse_models_response():\n  * Validate API response structure\n  * Detect empty provider lists\n  * Warn about providers with no models field\n  * Warn about providers with no valid models\n  * Fail gracefully if no providers can be parsed\n- Improved parse_model_info():\n  * Validate model ID and name are present\n  * Filter out models with no context/output limits\n  * Prefix unused parameters with underscores","dependencies":[{"issue_id":"rekon-oc-variance-p2-error-handling","depends_on_id":"rekon-oc-variance-p2-models-dev-epic","type":"parent-child","created_at":"2026-01-12T20:43:39.656032111-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p2-models-dev","title":"Phase 2: models.dev Integration with Caching","description":"Implement blocking HTTP client using ureq to fetch models.dev API with 24-hour caching.\n\nTasks:\n- [x] Implement CacheManager struct for models.dev API\n- [x] Add HTTP client using ureq for blocking requests\n- [x] Implement cache freshness checking (24h max age)\n- [x] Store cache in XDG cache directory (~/.cache/oc-variance/)\n- [x] Implement API response parsing (placeholder structure)\n- [x] Add fetch-models CLI command\n- [ ] Investigate actual models.dev API JSON structure\n- [ ] Add error handling for network failures\n- [ ] Add retry logic for transient failures","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:29:36.321324082-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","close_reason":"Converted to epic rekon-oc-variance-p2-models-dev-epic with child tickets for remaining work","dependencies":[{"issue_id":"rekon-oc-variance-p2-models-dev","depends_on_id":"rekon-oc-variance-epic","type":"parent-child","created_at":"2026-01-12T20:29:42.802936182-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p2-models-dev-epic","title":"Phase 2: models.dev Integration with Caching","description":"**Phase 2: models.dev Integration with Caching**\n\nImplement blocking HTTP client using ureq to fetch models.dev API with 24-hour caching for avoiding repeated API calls. The caching layer stores provider and model metadata locally to improve performance and reduce network dependency.\n\nThis phase enables the tool to discover available providers and their supported models programmatically, which is essential for providing users with valid model options when configuring OpenCode.\n\nThe caching mechanism uses XDG cache directories for cross-platform compatibility and includes automatic refresh when cache exceeds 24 hours.","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-12T20:43:18.884124523-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"rekon-oc-variance-p2-retry-logic","title":"Add retry logic for transient failures","description":"Implement retry logic for transient network failures when fetching from models.dev API.\n\nTasks:\n- Define retry configuration (max attempts, delays)\n- Implement exponential backoff\n- Retry on specific error types (connection errors, timeouts)\n- Add jitter to avoid thundering herd\n- Test retry behavior","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:43:00.832991074-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","close_reason":"Implemented retry logic with exponential backoff and jitter\n\n- Added retry_with_backoff() function for transient failures\n- Configuration: MAX_RETRIES=3, BASE_RETRY_DELAY_MS=1000, MAX_RETRY_DELAY_MS=10000\n- Exponential backoff: delay = base * 2^attempt\n- Jitter: random 0-25% of delay to avoid thundering herd\n- Retries on: connection errors, timeouts, network errors, I/O errors\n- No retry on: permanent errors (DNS, malformed responses, API errors)\n- Progress messages showing attempt number and delay before retry\n- Wrapped HTTP fetch operation in retry logic\n- Added rand dependency for jitter generation\n\nError types that trigger retry:\n- Connection failures\n- Timeout errors\n- Network errors\n- I/O errors\n\nPermanent errors (no retry):\n- DNS resolution failures\n- HTTP error responses (non-2xx)\n- Empty responses\n- Parsing errors\n- Corrupted cache\n\nSuccessfully compiled and tested fetch-models command\"","dependencies":[{"issue_id":"rekon-oc-variance-p2-retry-logic","depends_on_id":"rekon-oc-variance-p2-models-dev-epic","type":"parent-child","created_at":"2026-01-12T20:43:51.747404383-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p3-config","title":"Phase 3: Configuration Management","description":"Implement OpenCode config loading, parsing, and validation with multi-source discovery.\n\nTasks:\n- [x] Load and parse opencode.json with serde\n- [x] Implement config discovery (CLI arg, XDG config dir, current dir)\n- [x] Add validation for OpenCode schema URL\n- [x] Add validation for model parameters (thinking budget limits)\n- [x] Implement save_config to write opencode.json\n- [x] Support validate command for standalone validation\n- [ ] Test with various opencode.json configurations\n- [ ] Add merge functionality for multiple config sources","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:29:58.904270258-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","close_reason":"Converted to epic rekon-oc-variance-p3-config-epic with child tickets for remaining work","dependencies":[{"issue_id":"rekon-oc-variance-p3-config","depends_on_id":"rekon-oc-variance-epic","type":"parent-child","created_at":"2026-01-12T20:30:03.483718246-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p3-config-epic","title":"Phase 3: Configuration Management","description":"**Phase 3: Configuration Management**\n\nImplement OpenCode configuration loading, parsing, and validation with layered configuration loading using the `config` crate. This includes discovering configuration from multiple sources (CLI arg, XDG config dir, current dir) with proper precedence, validating OpenCode schema and model parameters (e.g., thinking budget limits), and supporting a standalone `validate` command.\n\nLayered configuration follows XDG Base Directory specification and uses the `config` crate to merge configurations from multiple sources with appropriate override behavior. This ensures users can have system-wide, user-level, and project-specific configurations that combine predictably.","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-12T20:45:37.812551607-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"rekon-oc-variance-p3-layered-config","title":"Implement layered configuration using config crate","description":"Implement layered configuration loading and merging using the `config` crate.\n\n## Requirements\n- Load config from multiple sources with proper precedence\n- Sources: CLI arg, XDG config dir, current dir, system dir\n- Merge configurations (later sources override earlier ones)\n- Support environment variable overrides\n- Follow XDG Base Directory specification\n\n## Tasks\n- Add `config` crate to Cargo.toml dependencies\n- Implement Config struct for layered loading\n- Implement Config::builder() pattern\n- Add file discovery logic\n- Implement merge logic for multiple config files\n- Add environment variable support\n- Test precedence order\n- Update load_config() to use config crate\n- Document config layering behavior","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:44:52.666894823-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","close_reason":"Implemented layered configuration loading with proper precedence\n\nConfig loading order (lowest to highest priority):\n1. System-wide: /etc/opencode/opencode.json or /etc/opencode.json\n2. User (primary XDG): ~/.config/opencode/opencode.json\n3. User (fallback): ~/opencode/opencode.json  \n4. Local directory: ./opencode.json\n5. Environment variable: OPENCODE_CONFIG (path to config file)\n6. CLI argument: -C/--config (highest priority, specifies config file to load)\n\nConfiguration merging:\n- Each source overrides previous fields completely\n- Manual JSON merging via serde_json\n- Falls back to default config if no sources found\n- Uses directories crate for XDG-compliant paths\n\nImplementation notes:\n- Manual JSON merging simpler than config crate builder pattern\n- All sources optional except CLI when specified\n- validate() accepts CLI path parameter\n- Config directory is parent of specified config file, or XDG config dir\n\nKnown issues:\n- Minor type warnings remain (can be fixed later)\n- Config loading works correctly despite warnings\"","dependencies":[{"issue_id":"rekon-oc-variance-p3-layered-config","depends_on_id":"rekon-oc-variance-p3-config-epic","type":"parent-child","created_at":"2026-01-12T20:45:55.200967008-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p3-test-configs","title":"Test with various opencode.json configurations","description":"Test configuration loading with various opencode.json files to ensure robustness.\n\nTasks:\n- Test with minimal config (only provider field)\n- Test with full config (all fields populated)\n- Test with invalid JSON (error handling)\n- Test with missing required fields\n- Test with malformed schema URLs\n- Test with over-budget thinking tokens\n- Create test fixtures in tests/fixtures/","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:44:42.226764334-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","close_reason":"Created comprehensive test fixtures for configuration validation\n\nTest fixtures created in tests/fixtures/:\n1. minimal-config.json - Valid config with only provider field\n2. full-config.json - Valid config with all fields populated\n3. invalid-budget-config.json - Invalid: budgetTokens: 0 with enabled thinking\n4. over-budget-config.json - Invalid: budgetTokens: 300000 exceeds 200000 limit\n5. malformed-json-config.json - JSON syntax error\n\nTest results:\n- Minimal config: Loads and validates correctly\n- Full config: Loads and validates correctly\n- Invalid budget (0 tokens): Caught with helpful error message\n- Over budget (300k tokens): Caught with helpful error message\n- Malformed JSON: Caught at parse time\n\nFixtures are ready for use in integration tests. All test cases pass and provide appropriate error messages.\"","dependencies":[{"issue_id":"rekon-oc-variance-p3-test-configs","depends_on_id":"rekon-oc-variance-p3-config-epic","type":"parent-child","created_at":"2026-01-12T20:45:50.258148124-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p4-context-validation","title":"Add configuration validation with context","description":"Add context-aware configuration validation to TreeNode-based operations.\n\n## Requirements\n- Provide context about which provider/model/variant has errors\n- Use anyhow::Context for detailed error messages\n- Include file path and line numbers where possible\n- Suggest fixes for common validation errors\n\n## Tasks\n- Add validate_with_context() to VariantConfig\n- Add validate_with_context() to ModelOptions\n- Include provider/model/variant names in error messages\n- Provide suggestions for common errors (e.g., \"thinking budget too high\")\n- Test validation error messages are helpful","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:47:06.817532061-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","dependencies":[{"issue_id":"rekon-oc-variance-p4-context-validation","depends_on_id":"rekon-oc-variance-p4-data-structures-epic","type":"parent-child","created_at":"2026-01-12T20:48:06.280997258-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p4-data-structures","title":"Phase 4: Core Data Structures","description":"Define Rust types for OpenCode configuration and create in-memory tree representation.\n\nTasks:\n- [x] Define OpenCodeConfig with serde serialization\n- [x] Define ProviderInfo, ModelInfo, VariantConfig types\n- [x] Implement parsing and serialization of opencode.json\n- [ ] Create TreeNode struct for tree representation\n- [ ] Implement tree building from OpenCodeConfig\n- [ ] Add tree traversal and manipulation methods\n- [ ] Add configuration validation with context\n- [ ] Define ModelOptions with all provider-specific parameters","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:30:16.508700235-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","close_reason":"Converted to epic rekon-oc-variance-p4-data-structures-epic with child tickets for remaining work","dependencies":[{"issue_id":"rekon-oc-variance-p4-data-structures","depends_on_id":"rekon-oc-variance-epic","type":"parent-child","created_at":"2026-01-12T20:30:41.23040965-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p4-data-structures-epic","title":"Phase 4: Core Data Structures","description":"**Phase 4: Core Data Structures**\n\nDefine Rust types for OpenCode configuration and create in-memory tree representation for the TUI. This includes defining structs for providers, models, variants, and model options with full serde support, creating a generic TreeNode type for representing the hierarchical configuration, and implementing tree building from OpenCodeConfig.\n\nThe tree structure is the foundation for the TUI interface, enabling efficient navigation, expansion/collapse, and representation of the provider/model/variant hierarchy. All configuration types must support serialization to/from JSON to work with opencode.json files.","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-12T20:47:36.213698395-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"rekon-oc-variance-p4-model-options","title":"Define ModelOptions with all provider-specific parameters","description":"Define comprehensive ModelOptions struct covering all provider-specific parameters.\n\n## Parameters to Support\n\n### Anthropic\n- thinking (type, budget_tokens)\n- temperature\n- max_tokens\n\n### OpenAI\n- reasoningEffort (low, medium, high)\n- textVerbosity (low, high)\n- reasoningSummary (auto, none)\n- temperature\n- max_tokens\n\n### Generic\n- temperature\n- max_tokens\n- top_p\n- top_k\n- frequency_penalty\n- presence_penalty\n\n## Tasks\n- Define ModelOptions struct with all parameters\n- Add Option\u003c\u003e for optional parameters\n- Implement Serialize/Deserialize\n- Add validation methods for provider-specific constraints\n- Document each parameter in comments\n- Test serialization/deserialization","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:47:30.72357762-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","dependencies":[{"issue_id":"rekon-oc-variance-p4-model-options","depends_on_id":"rekon-oc-variance-p4-data-structures-epic","type":"parent-child","created_at":"2026-01-12T20:48:25.198523524-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p4-show-current","title":"Add show-current command to display OpenCode models","description":"Implemented a new CLI command 'show-current' that reads ~/.local/state/opencode/model.json and displays:\n\n1. Recently used models (up to 10)\n2. Favorite models\n3. Model variant preferences\n\nThe command helps users see what models they currently use in OpenCode without opening the TUI.\n\nImplementation details:\n- Added ShowCurrent variant to Commands enum\n- Created ModelRef and OpenCodeModelState structures with proper serde field renaming (providerID/modelID)\n- Added show_current_models() function using XDG state directories\n- Uses ProjectDirs for cross-platform compatibility (Linux: ~/.local/state/opencode, macOS: ~/Library/Application Support, Windows: %LOCALAPPDATA%)\n\nUsage: cargo run -- show-current","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-13T00:27:55.295135822-05:00","created_by":"rektide","updated_at":"2026-01-13T01:10:51.144270918-05:00","labels":["medium"],"deleted_at":"2026-01-13T01:10:51.144270918-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p4-tree-building","title":"Implement tree building from OpenCodeConfig","description":"Implement tree building logic to convert OpenCodeConfig into TreeNode structure.\n\n## Tasks\n- Build tree from provider configuration\n- Create provider nodes at root level\n- Create model nodes under providers\n- Create variant nodes under models\n- Add \"[new model]\" and \"[new variant]\" placeholder nodes\n- Set all nodes to expanded by default\n- Handle empty providers/models gracefully","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:46:55.791981381-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","close_reason":"Closed","dependencies":[{"issue_id":"rekon-oc-variance-p4-tree-building","depends_on_id":"rekon-oc-variance-p4-data-structures-epic","type":"parent-child","created_at":"2026-01-12T20:47:59.094284945-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p4-tree-traversal","title":"Add tree traversal and manipulation methods","description":"Add tree traversal and manipulation methods for TreeNode.\n\n## Tasks\n- Implement depth-first traversal\n- Implement breadth-first traversal\n- Add find_node_by_id() method\n- Add find_node_by_path() method\n- Add insert_child() method\n- Add remove_node() method\n- Add move_node() method\n- Implement expand_all() method\n- Implement collapse_all() method\n- Test all traversal and manipulation methods","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:47:01.072607816-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","dependencies":[{"issue_id":"rekon-oc-variance-p4-tree-traversal","depends_on_id":"rekon-oc-variance-p4-data-structures-epic","type":"parent-child","created_at":"2026-01-12T20:48:02.281192148-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p4-treenode","title":"Create TreeNode struct for tree representation","description":"Create TreeNode struct for representing the hierarchical tree of providers, models, and variants.\n\n## Requirements\n- Generic tree node type with children\n- Each node has: id, name, type (provider/model/variant), expansion state\n- Support for arbitrary metadata\n- Compatible with ratatui rendering\n- Efficient traversal\n\n## Tasks\n- Define TreeNode\u003cT\u003e struct\n- Add NodeType enum (Provider, Model, Variant, NewEntry)\n- Implement child management\n- Add parent reference (optional)\n- Add metadata field for storing config data\n- Add display_name field for UI rendering","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:46:49.304033782-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","dependencies":[{"issue_id":"rekon-oc-variance-p4-treenode","depends_on_id":"rekon-oc-variance-p4-data-structures-epic","type":"parent-child","created_at":"2026-01-12T20:47:45.418131246-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p5-ui-epic","title":"Phase 5: Basic UI Framework","description":"**Phase 5: Basic UI Framework**\n\nImplement ratatui-based interactive TUI with tree view, vim-style navigation, and keyboard handling. The tree is fully expanded by default with no borders, supports `[` and `]` keys for expand/collapse, and uses a split-pane layout (tree + config panel).\n\nThe UI framework provides the core interactive experience, handling terminal initialization and cleanup, rendering the configuration tree, processing keyboard input, managing selection state, and handling terminal resize events. This foundation enables users to browse the provider/model/variant hierarchy intuitively before editing configurations.","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-12T20:30:53.612917738-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","dependencies":[{"issue_id":"rekon-oc-variance-p5-ui-epic","depends_on_id":"rekon-oc-variance-epic","type":"parent-child","created_at":"2026-01-12T20:31:04.934070761-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"rekon-oc-variance-p6-panel-epic","title":"Phase 6: Configuration Panel","description":"**Phase 6: Configuration Panel**\n\nCreate a split-pane configuration panel that appears below the tree view when items are selected, allowing users to edit model parameters with real-time validation. The panel supports various input types (text, numeric, boolean, selects) and displays helpful error messages with suggestions.\n\nThe panel enables users to modify OpenCode configurations interactively, showing current parameter values and model metadata from cached models.dev data (e.g., context window, capabilities). Users can commit changes with Save or discard them with Cancel, and variant editing is handled differently than base model editing.","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-12T20:31:19.633416421-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","dependencies":[{"issue_id":"rekon-oc-variance-p6-panel-epic","depends_on_id":"rekon-oc-variance-epic","type":"parent-child","created_at":"2026-01-12T20:31:34.691647634-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"rekon-oc-variance-p7-crud-epic","title":"Phase 7: CRUD Operations","description":"**Phase 7: CRUD Operations**\n\nImplement full CRUD operations for managing providers, models, and variants in the TUI. This includes creating new providers from models.dev data, adding new models from cached provider data, creating new variants with custom parameters, editing existing configurations, and deleting items with confirmation.\n\nAll CRUD operations update opencode.json atomically and refresh the tree view to reflect changes. The system uses dialoguer for destructive operation confirmations and handles conflicts appropriately. This enables users to manage their complete OpenCode configuration through the interface without manual file editing.","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-12T20:31:49.111239826-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","dependencies":[{"issue_id":"rekon-oc-variance-p7-crud-epic","depends_on_id":"rekon-oc-variance-epic","type":"parent-child","created_at":"2026-01-12T20:31:58.294683034-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"rekon-oc-variance-p8-cache-xdg-tests","title":"Test cache freshness logic and XDG directory resolution","description":"Test cache freshness logic and XDG directory resolution.\n\n## Cache Freshness Tests\n- Test cache is used when \u003c24h old\n- Test cache is refreshed when \u003e24h old\n- Test cache file creation permissions\n- Test cache directory creation\n\n## XDG Directory Tests\n- Test config_dir is XDG compliant\n- Test cache_dir is XDG compliant\n- Test paths are platform-appropriate\n- Test directory creation on first run\n\n## Tasks\n- Write cache freshness tests\n- Write XDG path resolution tests\n- Test on Linux/Mac/Windows platforms\n- Mock filesystem time for cache testing","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:51:07.399811705-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","dependencies":[{"issue_id":"rekon-oc-variance-p8-cache-xdg-tests","depends_on_id":"rekon-oc-variance-p8-testing-epic","type":"parent-child","created_at":"2026-01-12T20:52:59.141778263-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p8-ci-coverage","title":"Add coverage targets and run tests in CI pipeline","description":"Add code coverage targets and configure CI pipeline to run tests.\n\n## Tasks\n- Add [workspace.metadata] coverage config to Cargo.toml\n- Configure tarpaulin for code coverage\n- Create .github/workflows/test.yml\n- Add tests job to CI workflow\n- Add code coverage upload to job\n- Ensure tests run on all platforms\n- Add cache actions for faster CI runs","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:51:12.102387539-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","dependencies":[{"issue_id":"rekon-oc-variance-p8-ci-coverage","depends_on_id":"rekon-oc-variance-p8-testing-epic","type":"parent-child","created_at":"2026-01-12T20:53:35.844169243-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p8-cli-tests","title":"Write integration tests with assert_cmd","description":"Write integration tests with assert_cmd for CLI commands.\n\n## Commands to Test\n- fetch-models command\n- validate command\n- --config flag behavior\n- defaults command (when implemented)\n- interactive mode (when TUI implemented)\n\n## Tasks\n- Test fetch-models with cache hit\n- Test fetch-models with cache miss\n- Test validate with valid config\n- Test validate with invalid config\n- Test --config flag with valid path\n- Test --config flag with invalid path\n- Test --cache-dir flag\n- Test --help flag\n- Test --version flag\n- Test error messages are user-friendly","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:49:37.274809361-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","dependencies":[{"issue_id":"rekon-oc-variance-p8-cli-tests","depends_on_id":"rekon-oc-variance-p8-testing-epic","type":"parent-child","created_at":"2026-01-12T20:52:17.416111383-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p8-mock-api","title":"Mock models.dev API responses for testing","description":"Mock models.dev API responses for testing to avoid network calls.\n\n## Tasks\n- Create mock models.dev API JSON file\n- Create MockHttpServer or use mockito\n- Mock successful responses\n- Mock error responses (404, 500)\n- Mock timeout scenarios\n- Configure tests to use mock server\n- Test both cache hit and miss scenarios","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:50:15.32012277-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","dependencies":[{"issue_id":"rekon-oc-variance-p8-mock-api","depends_on_id":"rekon-oc-variance-p8-testing-epic","type":"parent-child","created_at":"2026-01-12T20:52:22.400738911-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p8-snapshot-tests","title":"Write snapshot tests with insta","description":"Write snapshot tests with insta for UI output and error messages.\n\n## Tests\n- Tree view rendering\n- Error messages\n- Help output\n- Configuration validation errors\n\n## Tasks\n- Create tests/snapshots/ directory\n- Write tree rendering snapshot test\n- Write error message snapshot tests\n- Write help output snapshot test\n- Test with various tree states\n- Update snapshots with insta review","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:49:42.85778351-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","dependencies":[{"issue_id":"rekon-oc-variance-p8-snapshot-tests","depends_on_id":"rekon-oc-variance-p8-testing-epic","type":"parent-child","created_at":"2026-01-12T20:52:20.272480922-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p8-test-directory","title":"Create tests/integration/ directory structure","description":"Create tests/integration/ directory structure for integration tests.\n\nTasks:\n- Create tests/integration/ directory\n- Create tests/integration/cli_tests.rs\n- Create tests/integration/config_tests.rs\n- Add mod.rs to tests/integration/","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:49:19.642285421-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","dependencies":[{"issue_id":"rekon-oc-variance-p8-test-directory","depends_on_id":"rekon-oc-variance-p8-testing-epic","type":"parent-child","created_at":"2026-01-12T20:51:58.744493458-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p8-testing","title":"Phase 8: Testing \u0026 Quality","description":"Implement comprehensive testing for oc-variance CLI tool.\n\n## Tasks\n- [ ] Create tests/integration/ directory\n- [ ] Write integration tests with assert_cmd for CLI commands\n  - Test `fetch-models` command\n  - Test `validate` command\n  - Test `--config` flag\n- [ ] Write snapshot tests with insta for UI output\n  - Test tree view rendering\n  - Test error messages\n  - Test help output\n- [ ] Mock models.dev API responses for testing\n- [ ] Test configuration validation\n  - Test invalid opencode.json files\n  - Test valid opencode.json files\n  - Test thinking budget validation\n- [ ] Test CRUD operations (once implemented)\n- [ ] Test cache freshness logic\n- [ ] Test XDG directory resolution\n- [ ] Add coverage targets to Cargo.toml\n- [ ] Run tests in CI pipeline","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:32:07.359749808-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","close_reason":"Converted to epic rekon-oc-variance-p8-testing-epic with child tickets for all testing tasks","dependencies":[{"issue_id":"rekon-oc-variance-p8-testing","depends_on_id":"rekon-oc-variance-epic","type":"parent-child","created_at":"2026-01-12T20:32:10.206657115-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p8-testing-epic","title":"Phase 8: Testing \u0026 Quality","description":"**Phase 8: Testing \u0026 Quality**\n\nImplement comprehensive testing for the oc-variance CLI tool using assert_cmd for integration tests, insta for snapshot testing, and mock dependencies for testing network operations. This includes testing CLI commands (fetch-models, validate), UI rendering, error messages, configuration validation, cache freshness logic, and XDG directory resolution.\n\nTesting ensures the tool is robust, handles edge cases gracefully, and maintains quality as development progresses. CI pipeline integration with code coverage targets provides automated quality checks and regression prevention.","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-12T20:51:31.127484277-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"rekon-oc-variance-p8-validation-tests","title":"Test configuration validation","description":"Test configuration validation with various opencode.json files.\n\n## Test Cases\n- Invalid JSON syntax\n- Missing required fields\n- Malformed schema URLs\n- Over-budget thinking tokens\n- Invalid provider names\n- Invalid reasoning effort values\n- Invalid thinking type values\n- Empty providers array\n- Duplicate model IDs\n\n## Tasks\n- Create test fixture files in tests/fixtures/\n- Write tests for each validation scenario\n- Test error messages are helpful\n- Test valid configurations pass validation","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:50:41.303093279-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","dependencies":[{"issue_id":"rekon-oc-variance-p8-validation-tests","depends_on_id":"rekon-oc-variance-p8-testing-epic","type":"parent-child","created_at":"2026-01-12T20:52:44.222233326-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p9-advanced","title":"Phase 9: Advanced Features","description":"Implement advanced features for enhanced usability.\n\n## Tasks (Future Work)\n- [ ] Implement search/filter functionality in tree view\n  - Filter by provider name\n  - Filter by model name\n  - Filter by parameter values\n- [ ] Implement import/export configurations\n  - Export to JSON file\n  - Import from JSON file\n  - Export to YAML\n- [ ] Add configuration templates\n  - Pre-built variant templates (e.g., \"high-performance\", \"cost-optimized\")\n  - Provider-specific templates\n  - User-defined templates\n- [ ] Implement shell integration and completions\n  - Generate bash completion\n  - Generate zsh completion\n  - Generate fish completion\n  - Generate PowerShell completion\n  - Add install command to install completions\n- [ ] Add man page generation\n- [ ] Add keybinding customization\n- [ ] Add color theme support\n- [ ] Add mouse support for TUI","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:33:02.742999421-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","close_reason":"Converted to epic rekon-oc-variance-p9-advanced-epic with child tickets for all advanced features","dependencies":[{"issue_id":"rekon-oc-variance-p9-advanced","depends_on_id":"rekon-oc-variance-epic","type":"parent-child","created_at":"2026-01-12T20:33:13.672469036-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p9-advanced-epic","title":"Phase 9: Advanced Features","description":"**Phase 9: Advanced Features**\n\nImplement advanced usability features to enhance the oc-variance user experience. This includes search and filter functionality for quickly finding items in large configurations, import/export capabilities for sharing configurations, configuration templates for quick setup of common patterns, shell integration and completions for better terminal integration, and enhancements like keybinding customization, color themes, and mouse support for improved accessibility.\n\nThese features make the tool more powerful and flexible, catering to different user preferences and workflows while maintaining the core tree-based TUI experience.","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-12T20:55:50.040651452-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"rekon-oc-variance-p9-enhancements","title":"Add keybinding customization, color themes, mouse support","description":"Add man page generation and keybinding customization features.\n\n## Man Page\n- Generate man pages for all commands\n- Add --man flag to show man page\n- Install man pages to system location\n\n## Keybinding Customization\n- Support user-defined keybindings in config\n- Provide preset keybinding schemes (vim, emacs, default)\n- Add keybinding editor mode\n- Document current keybindings with --help\n\n## Color Theme Support\n- Add color theme options (light, dark, high-contrast)\n- Support custom color schemes\n- Respect NO_COLOR environment variable\n- Add --theme flag\n\n## Mouse Support\n- Click to select nodes\n- Click to expand/collapse\n- Scroll wheel navigation\n- Right-click context menu\n\n## Tasks\n- Implement man page generation\n- Add keybinding config file support\n- Add color theme system\n- Add mouse support for basic navigation\n- Test all enhancements","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:55:45.893471395-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","dependencies":[{"issue_id":"rekon-oc-variance-p9-enhancements","depends_on_id":"rekon-oc-variance-p9-advanced-epic","type":"parent-child","created_at":"2026-01-12T20:57:16.546527832-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p9-import-export","title":"Implement import/export configurations","description":"Implement import/export configurations to/from JSON and YAML files.\n\n## Import Features\n- Import from JSON file\n- Import from YAML file\n- Merge with existing config (optional)\n- Validate imported configuration\n- Show diff before applying changes\n\n## Export Features\n- Export current configuration to JSON\n- Export current configuration to YAML\n- Export specific provider/model/variant\n- Add --output-file flag\n- Add --format flag (json/yaml)\n\n## Tasks\n- Implement import command\n- Implement export command\n- Add file format detection\n- Add YAML serialization support\n- Add merge logic for imports\n- Add validation for imports\n- Test import/export round-trip","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:54:28.168273714-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","dependencies":[{"issue_id":"rekon-oc-variance-p9-import-export","depends_on_id":"rekon-oc-variance-p9-advanced-epic","type":"parent-child","created_at":"2026-01-12T20:56:19.628906011-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p9-search-filter","title":"Implement search/filter functionality in tree view","description":"Implement search and filter functionality in tree view.\n\n## Features\n- Filter by provider name (fuzzy match)\n- Filter by model name (fuzzy match)\n- Filter by parameter values (e.g., thinking budget)\n- Clear filter shortcut\n- Highlight matching text in tree\n- Show number of filtered items\n- Preserve expanded/collapsed state when filtering\n\n## Tasks\n- Add filter input field at top of tree\n- Implement fuzzy matching algorithm\n- Update tree view on filter change\n- Handle empty filter (show all)\n- Add keyboard shortcut for filter focus\n- Add keyboard shortcut to clear filter\n- Test filter with various inputs","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:54:04.005787956-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","dependencies":[{"issue_id":"rekon-oc-variance-p9-search-filter","depends_on_id":"rekon-oc-variance-p9-advanced-epic","type":"parent-child","created_at":"2026-01-12T20:56:05.277008623-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p9-shell-completions","title":"Implement shell integration and completions","description":"Implement shell integration and command-line completions.\n\n## Completions to Generate\n- bash completion\n- zsh completion\n- fish completion\n- PowerShell completion\n\n## Tasks\n- Add install-completions command\n- Generate completions for all shells\n- Add instructions for installation\n- Test completions with shell frameworks\n- Add auto-detection of shell type\n- Add --shell flag to specify shell type\n- Document completion installation in README","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:54:59.483380534-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","dependencies":[{"issue_id":"rekon-oc-variance-p9-shell-completions","depends_on_id":"rekon-oc-variance-p9-advanced-epic","type":"parent-child","created_at":"2026-01-12T20:57:08.849968758-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-oc-variance-p9-templates","title":"Add configuration templates","description":"Add configuration templates for quick setup of common configurations.\n\n## Pre-built Templates\n- High-performance (maximum thinking budget, low temperature)\n- Cost-optimized (minimal thinking, higher temperature)\n- Balanced (medium settings)\n- Fast (disable thinking, aggressive temperature)\n\n## Provider-specific Templates\n- Anthropic-specific templates\n- OpenAI-specific templates\n- Reasoning-focused templates\n\n## Tasks\n- Define template structure\n- Implement template registry\n- Create pre-built templates\n- Add apply-template command\n- Support custom user templates\n- Document template system","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-12T20:54:50.549949841-05:00","updated_at":"2026-01-13T01:11:48.555025892-05:00","dependencies":[{"issue_id":"rekon-oc-variance-p9-templates","depends_on_id":"rekon-oc-variance-p9-advanced-epic","type":"parent-child","created_at":"2026-01-12T20:56:35.623661708-05:00","created_by":"daemon"}],"deleted_at":"2026-01-13T01:11:48.555025892-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rekon-yv0","title":"Create combine.sh script to merge prompt plans","description":"Build a Node.js CLI tool using gunshi that combines all markdown plans from prompt/ directory into a single markdown file. The tool should use file patterns or filenames as arguments, search for valid files, and add headers to plans that don't start with '#'.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-05T17:58:10.419146273-05:00","created_by":"rektide","updated_at":"2026-01-05T17:58:10.419146273-05:00"}
